<style>
  :host {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 14px;
    color: #333;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 8px 0;
  }

  p {
    margin: 0;
  }

  .spacer {
    flex: 1;
  }

  .toolbar {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    display: flex;
    align-items: center;
    background-color: #1976d2;
    color: white;
    font-weight: 600;
  }

  .toolbar img {
    margin: 0 16px;
  }

  .toolbar #twitter-logo {
    height: 40px;
    margin: 0 16px;
  }

  .toolbar #twitter-logo:hover {
    opacity: 0.8;
  }

  .content {
    display: flex;
    margin: 82px auto 32px;
    padding: 0 16px;
    flex-direction: column;
    align-items: center;
  }
</style>

<!-- Toolbar -->
<div class="toolbar" role="banner">
  <span class="ml-4">Xadrez na Twitch by<a href="https://www.twitch.tv/ecliffe" title="Twitch"> ecliffe</a></span>
  <div class="spacer"></div>
  <span class="m-2">email: richardx4000@hotmail.com</span>
  <a class="m-2" aria-label="Angular on twitter" target="_blank" rel="noopener" href="https://twitter.com/RichardMFDS" title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
  </a>
  <a class="m-2 mr-4" aria-label="Angular on twitter" target="_blank" rel="noopener" href="https://www.instagram.com/famosoricardo/" title="Instagram">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>  
  </a>
  <a class="m-2 mr-4" aria-label="Angular on twitter" target="_blank" rel="noopener" href="https://www.twitch.tv/ecliffe" title="Twitch">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2.149 0l-1.612 4.119v16.836h5.731v3.045h3.224l3.045-3.045h4.657l6.269-6.269v-14.686h-21.314zm19.164 13.612l-3.582 3.582h-5.731l-3.045 3.045v-3.045h-4.836v-15.045h17.194v11.463zm-3.582-7.343v6.262h-2.149v-6.262h2.149zm-5.731 0v6.262h-2.149v-6.262h2.149z" fill-rule="evenodd" clip-rule="evenodd"/></svg>
  </a>
</div>

<div class="content" role="main">
  <div class="row justify-content-start">
    <div class="tabuleiro col" >
      <div class="setas">
        <!-- setas retas i - quantide decasas E left j -->
        <!-- <img [ngStyle]="{'top':29 + (71 * (7 -2)) + 'px', 'left': 23 + (70 * 0) + 'px'}" class="seta" src="assets/images/setareta2.png" alt="Your Logo Alt"/>
        <img [ngStyle]="{'top':29 + (71 * (2 - 1)) + 'px', 'left':'93px'}" class="seta" src="assets/images/setareta1.png" alt="Your Logo Alt"/>
        <img [ngStyle]="{'top':29 + (71 * (5 - 3)) + 'px', 'left': 23 + (70 * 6) + 'px'}" class="seta" src="assets/images/setareta3.png" alt="Your Logo Alt"/>
      -->
      </div>
      <div *ngFor="let linha of getTabuleiro(); let i = index" 
        class="row linha" >
        <div *ngFor="let celula of linha; let j = index" 
          class="col celula" 
          [ngClass]="{'corCasaPreta': celula.corPreta, 
          'corCasaBranca': !celula.corPreta, 
          'minhaPecas': celula.peca?.corPeca == minhasPecas}"
          (click)="clicarCelula(i, j)">
          <span *ngIf="j == 0" class="linhaCelula">
            {{8 - celula.linha}}
          </span>
          <span *ngIf="i == 7" class="letraCelula">
            {{celula.letra}}
          </span> 
          <span *ngIf="celula.possivelIr && celula.peca == null" class="possivelIr"></span>
          <span *ngIf="celula.possivelIr && celula.peca != null" class="possivelIrCapiturando"></span>
          <span *ngIf="celula.movimentoNaoPossivel" class="movimentoNaoPossivel"></span>
          <span *ngIf="celula.clicada" class="pecaClicada"></span>
          <img *ngIf="celula.peca != null" width="70px" class="peca" [src]="'assets/images/' + celula.peca.nomePeca + '-' + celula.peca.corPeca + '.png'"/>
       
        </div>
      </div>
    </div>
    
    <div class="col" *ngIf="modoDeJogo == 'online'">
      <div class="card">
        <div class="card-body" *ngIf="minhasPecas == corAMover">
          <div class="row">
            <div class="col-12" align="center" >
              <h3 class="card-title">Sua vez de Jogar!!</h3>
              <p class="card-text">Use o seu chat da Twitch digitar os comandos !move "casaAtua" "casadestino"</p>
            </div>
          </div>
        </div>
        <div class="card-body" *ngIf="minhasPecas != corAMover">
          <div class="row">
            <div class="col-12" align="center" >
              <h3 class="card-title">Momento da votação</h3>
              <h5 class="card-title" *ngIf="timeLeft > 0">{{timeLeft}} segundos para acabar</h5>
              <h6 class="card-title" *ngIf="timeLeft == -1">Esperando 1 voto valido para começar a contagem</h6>
              <p class="card-text">Use o seu chat da Twitch digitar os comandos !move "casaAtua" "casadestino"</p>
            </div>
          </div>

          <div *ngFor="let movimento of movimentosVotos | keyvalue: keyDescOrder" >
            <div class="row">
              <div class="col-8">
                <img align="left" class="iconePeca" width="20px" [src]="'assets/images/' + tabuleiro[movimento.value.movimento.i][movimento.value.movimento.j].peca.nomePeca + '-' + tabuleiro[movimento.value.movimento.i][movimento.value.movimento.j].peca.corPeca + '.png'"/> 
                <span class="movimento">{{movimento.value.de}} -> {{movimento.value.para}} </span>
                <img *ngIf="movimento.value.movimento.capturar" class="iconePeca padding-4" width="20px" [src]="'assets/images/' + tabuleiro[movimento.value.movimento.destinoI][movimento.value.movimento.destinoJ].peca?.nomePeca + '-' + tabuleiro[movimento.value.movimento.destinoI][movimento.value.movimento.destinoJ].peca?.corPeca + '.png'"/> 
              </div>
              <div class="col-4" align="right">
                <span class="movimento">{{votos.size}} Voto(s)</span>
              </div>
            </div>
            
            <div class="progress">
              <div class="progress-bar progress-bar-striped progress-bar-animated " 
                  role="progressbar"
                  [style.width]="(movimento.value.numeroVezes / votos.size * 100) + '%'" 
                  [aria-valuenow]="(movimento.value.numeroVezes / votos.size * 100) + '%'" 
                  [ngClass]="{'bg-danger': !movimento.value.podeMover}"
                  aria-valuemin="0" 
                  aria-valuemax="100">{{(movimento.value.numeroVezes / votos.size * 100) + '%'}}% {{movimento.value.movimento.podeMover}}</div>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  </div>
  
</div>
